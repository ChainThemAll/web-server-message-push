# web-server-message-push-
A message push server written using Rust’s axum framework

todo！
核心组件:

<!-- 消息队列: 创建一个消息队列来管理推送的消息。你可以选择使用内建的队列系统或者第三方的消息队列系统如RabbitMQ或Kafka。 -->
处理器: 设计处理器来处理传入的消息，将它们添加到消息队列中，并在适当的时间将消息推送到客户端。
路由: 使用axum的路由系统来定义你的API的端点，并将请求路由到正确的处理器。

日志: 实现一个日志系统，以便于跟踪和诊断问题。

错误处理: 设计一个能够捕获和处理错误的系统，以便在出现问题时能够快速地诊断和修复。

单元测试和集成测试: 编写测试来验证你的代码的功能和性能。确保覆盖所有的重要路径和边缘情况。
文档:




API文档: 编写详细的API文档，以帮助开发人员了解如何与你的服务交互。
开发和运维文档: 编写开发和运维文档，以确保团队能够有效地维护和运营服务。

安全:

认证和授权: 实现认证和授权机制，以确保只有经过验证的用户可以发送和接收消息。
HTTPS: 配置HTTPS以保护数据在传输过程中的安全。
输入验证: 对所有传入的请求进行严格的输入验证，以避免SQL注入、跨站脚本等安全风险。
可扩展性和性能优化:

这个流程中有一些关键词可能需要进一步探索：

客户端和服务器用什么协议通信？TCP? gRPC? HTTP? 交换一种还是多种? 
HTTP/HTTPS。由于axum是一个Web框架，所以默认使用的是HTTP/HTTPS。

客户端和服务器之间交互的消息用什么格式呈现？纯文本/序列化 / 反序列化? 是 Protobuf、JSON 还是 Redis RESP? 或者也可以支持多种?JSON。
JSON是Web开发中常用的，而且易于解析和生成。

服务端都支持哪些命令？第一版优先支持哪些命令？
需要支持注册提醒、取消提醒、聊天信息提醒，列出当前提醒等基本命令。

命令的处理逻辑中，需要管理 hook， 在处理过程中发布一些事件，让其他流程可以得到通知，进行额外的处理？这些 hook 可不可以提前约定或者变得动态？
是的，尤其是在消息推送服务中。例如，当一个提醒时间到了，触发一个hook来真正发送提醒。

对于存储，要支持不同的存储引擎么？比如 MemDB (内存）、RocksDB (磁盘）、SledDB (磁盘)等。对于 MemDB, 我们考虑支持 WAL (Write-Ahead Log) 和 snapshot 么？
对于一个简单的提醒服务，一个内存存储（如MemDB）可能足够，但考虑到持久性和可扩展性，您可能会选择像RocksDB或SledDB这样的持久存储。如果您需要确保在服务器重启后消息不丢失，那么支持WAL和snapshot是很好的。
要不要考虑冷启动？比如服务挂掉再恢复之后，哪个存储引擎？是的。如果您的服务需要持久化存储，那么在启动时，您需要从存储中恢复状态。

虑使用WebSocket或Server-Sent Events来实时推送消息给客户端。

考虑安全性，如HTTPS、用户验证和授权等。

对于大规模的提醒，考虑添加一些形式的队列或后台处理系统来处理消息推送。